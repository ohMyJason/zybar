<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.zybar.bar.dao.StrategyMapper" >
  <resultMap id="BaseResultMap" type="com.zybar.bar.model.Strategy" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Wed Sep 11 11:07:53 CST 2019.
    -->
    <id column="strategy_id" property="strategyId" jdbcType="INTEGER" />
    <result column="product_id" property="productId" jdbcType="INTEGER" />
    <result column="contract" property="contract" jdbcType="VARCHAR" />
    <result column="opera" property="opera" jdbcType="VARCHAR" />
    <result column="delegate_type" property="delegateType" jdbcType="VARCHAR" />
    <result column="opera_type" property="operaType" jdbcType="VARCHAR" />
    <result column="position" property="position" jdbcType="VARCHAR" />
    <result column="point" property="point" jdbcType="VARCHAR" />
    <result column="target_one" property="targetOne" jdbcType="VARCHAR" />
    <result column="target_two" property="targetTwo" jdbcType="VARCHAR" />
    <result column="stop_loss" property="stopLoss" jdbcType="VARCHAR" />
    <result column="remarks" property="remarks" jdbcType="VARCHAR" />
    <result column="is_close" property="isClose" jdbcType="INTEGER" />
    <result column="close_id" property="closeId" jdbcType="INTEGER" />
    <result column="creat_time" property="creatTime" jdbcType="VARCHAR" />
    <result column="creater_id" property="createrId" jdbcType="INTEGER" />
    <result column="select_live" property="selectLive" jdbcType="INTEGER" />
  </resultMap>
  <sql id="Base_Column_List" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Wed Sep 11 11:07:53 CST 2019.
    -->
    strategy_id, product_id, contract, opera, delegate_type, opera_type, position, point, 
    target_one, target_two, stop_loss, remarks, is_close, close_id, creat_time, creater_id,select_live
  </sql>
  <select id="selectByPrimaryKey" resultMap="BaseResultMap" parameterType="java.lang.Integer" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Wed Sep 11 11:07:53 CST 2019.
    -->
    select 
    <include refid="Base_Column_List" />
    from tb_strategy
    where strategy_id = #{strategyId,jdbcType=INTEGER}
  </select>
  <delete id="deleteByPrimaryKey" parameterType="java.lang.Integer" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Wed Sep 11 11:07:53 CST 2019.
    -->
    delete from tb_strategy
    where strategy_id = #{strategyId,jdbcType=INTEGER}
  </delete>
  <insert id="insert" parameterType="com.zybar.bar.model.Strategy" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Wed Sep 11 11:07:53 CST 2019.
    -->
    insert into tb_strategy (strategy_id, product_id, contract, 
      opera, delegate_type, opera_type, 
      position, point, target_one, 
      target_two, stop_loss, remarks, 
      is_close, close_id, creat_time, 
      creater_id,select_live)
    values (#{strategyId,jdbcType=INTEGER}, #{productId,jdbcType=INTEGER}, #{contract,jdbcType=VARCHAR}, 
      #{opera,jdbcType=VARCHAR}, #{delegateType,jdbcType=VARCHAR}, #{operaType,jdbcType=VARCHAR}, 
      #{position,jdbcType=VARCHAR}, #{point,jdbcType=VARCHAR}, #{targetOne,jdbcType=VARCHAR}, 
      #{targetTwo,jdbcType=VARCHAR}, #{stopLoss,jdbcType=VARCHAR}, #{remarks,jdbcType=VARCHAR}, 
      #{isClose,jdbcType=INTEGER}, #{closeId,jdbcType=INTEGER}, #{creatTime,jdbcType=VARCHAR}, 
      #{createrId,jdbcType=INTEGER}),#{selectLive,jdbcType=INTEGER}
  </insert>
  <insert id="insertSelective" parameterType="com.zybar.bar.model.Strategy" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Wed Sep 11 11:07:53 CST 2019.
    -->
    insert into tb_strategy
    <trim prefix="(" suffix=")" suffixOverrides="," >
      <if test="strategyId != null" >
        strategy_id,
      </if>
      <if test="productId != null" >
        product_id,
      </if>
      <if test="contract != null" >
        contract,
      </if>
      <if test="opera != null" >
        opera,
      </if>
      <if test="delegateType != null" >
        delegate_type,
      </if>
      <if test="operaType != null" >
        opera_type,
      </if>
      <if test="position != null" >
        position,
      </if>
      <if test="point != null" >
        point,
      </if>
      <if test="targetOne != null" >
        target_one,
      </if>
      <if test="targetTwo != null" >
        target_two,
      </if>
      <if test="stopLoss != null" >
        stop_loss,
      </if>
      <if test="remarks != null" >
        remarks,
      </if>
      <if test="isClose != null" >
        is_close,
      </if>
      <if test="closeId != null" >
        close_id,
      </if>
      <if test="creatTime != null" >
        creat_time,
      </if>
      <if test="createrId != null" >
        creater_id,
      </if>
      <if test="selectLive != null" >
        select_live,
      </if>
    </trim>
    <trim prefix="values (" suffix=")" suffixOverrides="," >
      <if test="strategyId != null" >
        #{strategyId,jdbcType=INTEGER},
      </if>
      <if test="productId != null" >
        #{productId,jdbcType=INTEGER},
      </if>
      <if test="contract != null" >
        #{contract,jdbcType=VARCHAR},
      </if>
      <if test="opera != null" >
        #{opera,jdbcType=VARCHAR},
      </if>
      <if test="delegateType != null" >
        #{delegateType,jdbcType=VARCHAR},
      </if>
      <if test="operaType != null" >
        #{operaType,jdbcType=VARCHAR},
      </if>
      <if test="position != null" >
        #{position,jdbcType=VARCHAR},
      </if>
      <if test="point != null" >
        #{point,jdbcType=VARCHAR},
      </if>
      <if test="targetOne != null" >
        #{targetOne,jdbcType=VARCHAR},
      </if>
      <if test="targetTwo != null" >
        #{targetTwo,jdbcType=VARCHAR},
      </if>
      <if test="stopLoss != null" >
        #{stopLoss,jdbcType=VARCHAR},
      </if>
      <if test="remarks != null" >
        #{remarks,jdbcType=VARCHAR},
      </if>
      <if test="isClose != null" >
        #{isClose,jdbcType=INTEGER},
      </if>
      <if test="closeId != null" >
        #{closeId,jdbcType=INTEGER},
      </if>
      <if test="creatTime != null" >
        #{creatTime,jdbcType=VARCHAR},
      </if>
      <if test="createrId != null" >
        #{createrId,jdbcType=INTEGER},
      </if>
      <if test="selectLive != null" >
        #{selectLive,jdbcType=INTEGER},
      </if>
    </trim>
  </insert>
  <update id="updateByPrimaryKeySelective" parameterType="com.zybar.bar.model.Strategy" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Wed Sep 11 11:07:53 CST 2019.
    -->
    update tb_strategy
    <set >
      <if test="productId != null" >
        product_id = #{productId,jdbcType=INTEGER},
      </if>
      <if test="contract != null" >
        contract = #{contract,jdbcType=VARCHAR},
      </if>
      <if test="opera != null" >
        opera = #{opera,jdbcType=VARCHAR},
      </if>
      <if test="delegateType != null" >
        delegate_type = #{delegateType,jdbcType=VARCHAR},
      </if>
      <if test="operaType != null" >
        opera_type = #{operaType,jdbcType=VARCHAR},
      </if>
      <if test="position != null" >
        position = #{position,jdbcType=VARCHAR},
      </if>
      <if test="point != null" >
        point = #{point,jdbcType=VARCHAR},
      </if>
      <if test="targetOne != null" >
        target_one = #{targetOne,jdbcType=VARCHAR},
      </if>
      <if test="targetTwo != null" >
        target_two = #{targetTwo,jdbcType=VARCHAR},
      </if>
      <if test="stopLoss != null" >
        stop_loss = #{stopLoss,jdbcType=VARCHAR},
      </if>
      <if test="remarks != null" >
        remarks = #{remarks,jdbcType=VARCHAR},
      </if>
      <if test="isClose != null" >
        is_close = #{isClose,jdbcType=INTEGER},
      </if>
      <if test="closeId != null" >
        close_id = #{closeId,jdbcType=INTEGER},
      </if>
      <if test="creatTime != null" >
        creat_time = #{creatTime,jdbcType=VARCHAR},
      </if>
      <if test="createrId != null" >
        creater_id = #{createrId,jdbcType=INTEGER},
      </if>
      <if test="selectLive != null" >
        select_live = #{createrId,jdbcType=INTEGER},
      </if>
    </set>
    where strategy_id = #{strategyId,jdbcType=INTEGER}
  </update>
  <update id="updateByPrimaryKey" parameterType="com.zybar.bar.model.Strategy" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Wed Sep 11 11:07:53 CST 2019.
    -->
    update tb_strategy
    set product_id = #{productId,jdbcType=INTEGER},
      contract = #{contract,jdbcType=VARCHAR},
      opera = #{opera,jdbcType=VARCHAR},
      delegate_type = #{delegateType,jdbcType=VARCHAR},
      opera_type = #{operaType,jdbcType=VARCHAR},
      position = #{position,jdbcType=VARCHAR},
      point = #{point,jdbcType=VARCHAR},
      target_one = #{targetOne,jdbcType=VARCHAR},
      target_two = #{targetTwo,jdbcType=VARCHAR},
      stop_loss = #{stopLoss,jdbcType=VARCHAR},
      remarks = #{remarks,jdbcType=VARCHAR},
      is_close = #{isClose,jdbcType=INTEGER},
      close_id = #{closeId,jdbcType=INTEGER},
      creat_time = #{creatTime,jdbcType=VARCHAR},
      creater_id = #{createrId,jdbcType=INTEGER},
      select_live = #{selectLive,jdbcType=INTEGER}
    where strategy_id = #{strategyId,jdbcType=INTEGER}
  </update>

  <select id="selectStrategyByCreaterId" resultMap="BaseResultMap">
    select <include refid="Base_Column_List"/>
    from tb_strategy
    <where>
      creater_id = #{createrId}
      <if test="ifClose!=null">
        and if_close = #{ifClose}
      </if>
    </where>
    LIMIT #{start},#{limit}
  </select>

  <select id="getCount" resultType="integer">
   select count(*)
   from tb_strategy
   <where>
     <if test="createrId!=null">
       creater_id = #{createrId}
     </if>
     <if test="ifClose!=null">
       and if_close = #{ifClose}
     </if>
   </where>
 </select>
</mapper>